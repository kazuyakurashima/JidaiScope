/**
 * Timeline Constants - タイムライン描画に関する定数定義
 * Sprint 2: 020 Timeline Core
 */

// =============================================================================
// Time Range（日本史タイムライン範囲）
// =============================================================================

/** 縄文時代開始年（-14000年：縄文時代の始まりイベントに対応） */
export const TIMELINE_START_YEAR = -14000;

/** 現代終了年（2025年） */
export const TIMELINE_END_YEAR = 2025;

/** 全体の年数 */
export const TOTAL_YEARS = TIMELINE_END_YEAR - TIMELINE_START_YEAR; // 16025年

// =============================================================================
// Zoom Levels
// =============================================================================

/** 最小ズームレベル（全体が画面に収まる） */
export const MIN_ZOOM_LEVEL = 1;

/** 最大ズームレベル */
export const MAX_ZOOM_LEVEL = 100;

/** デフォルトズームレベル */
export const DEFAULT_ZOOM_LEVEL = 1;

// =============================================================================
// Pixels Per Year（ズームレベル1での基本値）
// =============================================================================

/**
 * 基本スケール: 1年あたりのピクセル数（ズームレベル1時）
 * 全体（16025年）が画面幅に収まるよう動的に計算される
 * この値は最小ズーム時の参考値
 */
export const BASE_PIXELS_PER_YEAR = 0.1;

// =============================================================================
// Layout Constants
// =============================================================================

/** タイムライン軸のY位置（画面高さに対する割合） */
export const TIMELINE_AXIS_Y_RATIO = 0.5;

/** 時代帯の上端Y位置（画面高さに対する割合） */
export const ERA_BAND_TOP_RATIO = 0.15;

/** 時代帯の下端Y位置（画面高さに対する割合） */
export const ERA_BAND_BOTTOM_RATIO = 0.85;

/** 時代名ラベルのY位置（画面高さに対する割合） */
export const ERA_LABEL_Y_RATIO = 0.92;

// =============================================================================
// Event Marker Constants
// =============================================================================

/** イベントマーカーの基本半径（px） */
export const EVENT_MARKER_BASE_RADIUS = 6;

/** 重要度別マーカーサイズ乗数 */
export const IMPORTANCE_SIZE_MULTIPLIER: Record<number, number> = {
  0: 0.6,  // 低重要度
  1: 0.8,  // 通常
  2: 1.0,  // 重要
  3: 1.4,  // 最重要
};

/** イベントマーカーのタップ判定半径（px） */
export const EVENT_HIT_RADIUS = 22; // アクセシビリティ要件: 44pt の半径

// =============================================================================
// Tag Colors（イベントタグ色）
// =============================================================================

export const TAG_COLORS: Record<string, string> = {
  politics: '#FF6B6B',   // 政治
  war: '#FFE66D',        // 戦争
  culture: '#4ECDC4',    // 文化
  diplomacy: '#63B3ED',  // 外交
  economy: '#95E1D3',    // 経済
  social: '#DDA0DD',     // 社会
  default: '#A0AEC0',    // デフォルト
};

// =============================================================================
// Performance Constants
// =============================================================================

/** 描画マージン（px）: 画面外でも描画を継続する範囲 */
export const RENDER_MARGIN = 100;

/** 最大描画イベント数（パフォーマンス制限） */
export const MAX_VISIBLE_EVENTS = 500;

/** 最大描画テキスト数 */
export const MAX_VISIBLE_LABELS = 50;

// =============================================================================
// Animation Constants
// =============================================================================

/** スクロール慣性の減衰率 */
export const SCROLL_DECAY = 0.95;

/** ズームアニメーション時間（ms） */
export const ZOOM_ANIMATION_DURATION = 200;

/** ダブルタップズーム倍率 */
export const DOUBLE_TAP_ZOOM_FACTOR = 2;

// =============================================================================
// LOD (Level of Detail) Thresholds
// =============================================================================

/**
 * LOD レベル閾値
 * - L0: 全体俯瞰（ズーム 1〜2）
 * - L1: 時代概要（ズーム 2〜10）
 * - L2: 詳細表示（ズーム 10〜50）
 * - L3: 最大詳細（ズーム 50以上）
 */
export const LOD_THRESHOLDS = {
  L0_MAX: 2,
  L1_MAX: 10,
  L2_MAX: 50,
} as const;

// =============================================================================
// Haptics
// =============================================================================

/** 時代境界通過時のハプティクス有効化 */
export const ENABLE_ERA_BOUNDARY_HAPTICS = true;
